{% extends "layout.html" %}

{% block content %}

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script src="https://cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.4/css/jquery.dataTables.min.css">
    <script>
    	var dataSet = JSON.parse('{{dffinal | safe}}');
        console.log(dataSet);
        $(document).ready(function() {
    	$('#resTable').DataTable( {
            data : dataSet,
    	    // add column definitions to map your json to the table
    	    "columns": [
    		{title: "Data"},
    		{title: "Investimento"},
    		{title: "Valor"},
    		{title: "Ordem"}
    	    ]
    	} );
        });
    </script>

    <h3>{{id}}</h3>
    <div id="{{ids}}"></div>
    <div class="m-5">
        <table id="resTable" class="table table-striped" style="width:100%" >
		<thead>
	    <tr>
		<th>Data</th>
		<th>Investimento</th>
		<th>Valor</th>
		<th>Ordem</th>
	    </tr>
	    </thead>
	    </table>
    </div>

    <!-- D3.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <script type="text/javascript">

        var graphs = {{graphJSON | safe}};
        var ids = {{ids | safe}};

        Plotly.plot(ids, // the ID of the div, created above
                    graphs.data,
                    graphs.layout || {});
    </script>

{% endblock %}
